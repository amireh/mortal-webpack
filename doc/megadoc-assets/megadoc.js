!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.megadoc=t():e.megadoc=t()}(this,function(){return webpackJsonp_megadoc([1],{0:function(e,t,n){"use strict";function o(e){s.log("megadoc: version %s",e.version);var t=y({strict:!0,verbose:!1}),o=f({database:e.database||[],redirect:e.redirect}),i={corpus:o};i.outlets=t,i.outlets.define("Meta"),i.outlets.define("LayoutWrapper"),i.outlets.define("Layout"),i.outlets.define("Layout::Banner"),i.outlets.define("Layout::Content"),i.outlets.define("Layout::Sidebar"),i.outlets.define("Layout::NavBar"),i.outlets.define("Layout::SidebarHeader"),i.outlets.define("Layout::SidebarSearch"),i.outlets.define("Layout::Footer"),i.outlets.define("Layout::NotFound"),i.outlets.define("Inspector"),i.outlets.define("Image"),i.outlets.define("Link"),i.outlets.define("Text"),n(144)(i),n(145)(i),n(142)(i),n(143)(i),n(146)(i),s.log("Firing up."),s.log("Loading %d external plugins.",e.plugins.length);var r={corpus:o};e.plugins.forEach(function(e){var n=o.getNamespacesForPlugin(e.name).map(function(e){return e.config});e.register&&e.register(r,n),e.outlets&&e.outlets.forEach(function(e){"string"==typeof e&&t.define(e)}),e.outletOccupants&&e.outletOccupants.forEach(function(e){t.add(e.name,{key:e.key||"default",component:e.component})})});var a=m(e,["database","plugins","startingDocumentUID","startingDocumentHref"]),c=p(e);return{appConfig:a,appState:c,outlets:t,corpus:o}}function i(e,t){return e?location.pathname.replace(e.meta.href,""):t?location.pathname.replace(t,""):""}var r=n(1),s=n(28),a=n(11),c=a.render,l=n(241),u=l.renderToString,p=n(121),h=n(147),d=n(10),m=d.omit,f=n(74),g=n(14),y=g.OutletManager;t.createClient=function(e){var t=o(e);return{render:function(e,n){n(null,u(r.createElement(h,{config:t.appConfig,appState:t.appState,corpus:t.corpus,outletManager:t.outlets,location:{protocol:"file:",origin:"file://",pathname:e.replace(/^#/,""),hash:""}})))}}},t.startApp=function(e){var t=o(e),n=i(t.corpus.get(e.startingDocumentUID),e.startingDocumentHref);s.log('Mount path = "%s".',n),c(r.createElement(h,{config:Object.assign({},t.appConfig,{mountPath:n}),appState:t.appState,corpus:t.corpus,outletManager:t.outlets,location:window.location}),document.querySelector("#__app__"))}},26:function(e,t){"use strict";function n(e){this.mountPath=e.mountPath,this.extension=e.extension||"",this.fileExtensionRegExp=this.extension.length>0?new RegExp(this.extension+"$"):null}function o(e){return"/"===e[0]?e:"/"+e}n.prototype.normalize=function(e){return this.mountPath&&0===e.indexOf(this.mountPath)?o(e.slice(this.mountPath.length)):e},n.prototype.withExtension=function(e){return e.match(this.fileExtensionRegExp)?e:e+this.extension},n.prototype.withoutExtension=function(e){return this.fileExtensionRegExp?e.replace(this.fileExtensionRegExp,""):e},n.prototype.getCurrentPathName=function(){return this.normalize(o(window.location.pathname))},e.exports=n},37:function(e,t){"use strict";t.SORT_ASC="asc",t.SORT_DESC="desc",t.QUERY_ON="1",t.QUERY_OFF=void 0,t.KC_RETURN=13,t.KC_K=75,t.KC_ESCAPE=27,t.AVAILABLE_SCHEMES=["plain","steel","solarized--light","solarized--dark"],t.AVAILABLE_SCHEME_NAMES=["Light","Steel","Solarized (light)","Solarized (dark)"],t.AVAILABLE_LAYOUTS=["single-page","multi-page"],t.DEFAULT_SCHEME="plain",t.CFG_COLOR_SCHEME="colorScheme",t.CFG_SYNTAX_HIGHLIGHTING="highlightingEnabled",t.CFG_SIDEBAR_WIDTH="sidebarWidth",t.MIN_SIDEBAR_WIDTH=160,t.INITIAL_SIDEBAR_WIDTH=240},44:function(e,t,n){"use strict";function o(e){var t=e.config,n=e.corpus,o=e.documentURI;this.corpus=n,this.config=t,this.documentURI=o}function i(e,t){if(t&&t.meta&&t.meta.redirect){var n=r(e.corpus,t.meta.redirect);return n?n:(a.warn("Unable to find the redirect document target at '%s' (from '%s')",n.meta.redirect,t.uid),null)}return t}function r(e,t){return e.get(t)||e.getByURI(t)}function s(e){var t={};return"DocumentEntity"===e.type?(t.documentEntityNode=e,t.documentNode=e.parentNode,t.namespaceNode=c.getNamespaceOfNode(e)):"Document"===e.type?(t.documentEntityNode=null,t.documentNode=e,t.namespaceNode=c.getNamespaceOfNode(e)):"Namespace"===e.type&&(t.documentEntityNode=null,t.documentNode=null,t.namespaceNode=e),t}var a=n(28),c=n(74),l=n(38),u=n(75);o.prototype.resolveFromLocation=function(e){var t=this.config,n=this.corpus,o=void 0;l("string"==typeof e.pathname,"Location @pathname must be present."),l("string"==typeof e.origin,"Location @origin must be present."),l("string"==typeof e.protocol,"Location @protocol must be present."),l("string"==typeof e.hash,"Location @hash must be present.");var c=this.getProtocolAgnosticPathName(e),p=u.getDocumentOverride(c,t);if(p&&(o=r(n,p),o||a.warn("A document '%s' specified as an override for the url '%s' could not be found. This is most likely a configuration error.",p,c)),o||(o=n.getByURI(c)),o)return s(i(this,o));var h=e.pathname+"index",d=this.documentURI.withExtension(h)+e.hash,m=n.getByURI(d);return m?s(i(this,m)):this.config.redirect&&this.config.redirect[e.pathname]?this.resolveFromLocation(Object.assign({},e,{pathname:this.config.redirect[e.pathname]})):(a.warn("Unable to find a document at the URI '%s' (from '%s')",c,e.pathname),null)},o.prototype.getProtocolAgnosticPathName=function(e){return this.documentURI.normalize(this.documentURI.withExtension(e.pathname))+e.hash},e.exports=o,e.exports.buildDocumentContext=s},46:function(e,t,n){"use strict";var o=n(1).PropTypes,i=o.shape,r=o.string,s=o.func,a=o.oneOf;e.exports=i({pathname:r,origin:r,protocol:a(["file:","http:","https:"]),hash:r,replace:s})},74:function(e,t,n){"use strict";function o(e){function t(e){var n=o(e);return n&&"DocumentEntity"===n.type?t(n.parentNode):v[e]}function n(e){var t="string"==typeof e?o(e):e;if(t)return c(t)}function o(e){return g[e]}function u(e){if(e.meta.indexDisplayName)return e.meta.indexDisplayName;for(var t in e.indices)if(1===e.indices[t])return t}function p(){return Object.keys(g).filter(function(e){return!!i(g[e])&&Object.keys(g[e].indices).length>0}).map(function(e){var t=g[e];return{$1:t.title,$2:t.filePath,link:{href:i(t),anchor:r(t),context:s(t)}}})}function h(){return Object.keys(g).filter(function(e){return!!i(g[e])&&"Document"===g[e].type}).reduce(function(e,t){var n=o(t);return n.entities?e[t]=n.entities.filter(i).map(function(e){return{$1:u(e),link:{href:i(e),anchor:r(e)}}}):e[t]=[],e},{})}var d=e.database,m=e.redirect,f={},g=a(d),y=p(),v=h(),S=Object.keys(g).reduce(function(e,t){var n=o(t);return"Namespace"===n.type&&(e[n.pluginName]||(e[n.pluginName]=[]),e[n.pluginName].push(n)),e},{}),b=Object.keys(g).length,E=Object.keys(g).reduce(function(e,t){return g[t].meta.hrefRewritten&&(e[g[t].meta.href]=t),e},{});return f.getDocumentSearchIndex=function(){return y},f.getDocumentEntitySearchIndex=t,f.getCatalogue=function(e){return Object.keys(g).filter(function(t){return 0===t.indexOf(e+"/")}).map(o)},f.getNamespacesForPlugin=function(e){return S[e]||[]},f.get=function(e){return g[e]},f.getByURI=function(e){if(m&&m[e])return f.getByURI(m[e]);if(E[e])return g[E[e]];for(var t in g)if(i(g[t])===e)return g[t];if(e.indexOf("#")>-1){var n=e.split("#"),o=l(n,2),r=o[0],s=o[1],a=f.getByURI(r);if(a&&a.meta.anchor===s)return a}},Object.defineProperty(f,"length",{configurable:!1,writable:!1,value:b}),f.getNamespaceOfDocument=n,f}function i(e){return e.meta.href}function r(e){return e.meta.anchor}function s(e){var t=e;do{if(t.meta&&t.meta.corpusContext)return t.meta.corpusContext;t=t.parentNode}while(t&&"Namespace"!==t.type);return t?t.title:null}function a(e){function t(e){var t=i[e];"string"==typeof t.parentNodeId&&n(t,i[t.parentNodeId])}function n(e,t){var n=void 0;"Namespace"===t.type?"Document"===e.type&&(n="documents"):"Document"===t.type&&("DocumentEntity"===e.type?n="entities":"Document"===e.type&&(n="documents")),n?(t[n].push(e),e.parentNode=t):u.warn("Unable to attach corpus node of type '%s' to parent node of type '%s'",e.type,t.type)}function o(e){return"Namespace"===e.type?e.documents=[]:"Document"===e.type&&(e.documents=[],e.entities=[]),e}var i=Object.keys(e).reduce(function(t,n){return t[n]=o(h({},e[n])),t},{});return Object.keys(i).forEach(t),i}function c(e){for(var t=e;"Namespace"!==t.type&&t.parentNode;)t=t.parentNode;if("Namespace"===t.type)return t}var l=function(){function e(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(c){i=!0,r=c}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=n(28),p=n(10),h=p.assign;e.exports=o,e.exports.getNamespaceOfNode=c},75:function(e,t,n){"use strict";function o(e,t){return t?t.filter(function(t){return c(t.hasOwnProperty("match"),"A custom layout must have a @match property defined!"),[].concat(t.match).every(function(t){return s(t,e)})})[0]:null}function i(e,t){var n=o(e,t);if(n)return n.regions}function r(e){return Array.isArray(e)?e:[].concat(e||[])}function s(e,t){var n=t.documentNode,o=t.namespaceNode,i=t.pathname,s=e.by,c=r(e.on);return"type"===s&&(n&&c.indexOf(n.type)>-1||o&&c.indexOf(o.type)>-1)||n&&("uid"===s||"path"===s)&&c.indexOf(n.path)>-1||"url"===s&&a(c,i)||"namespace"===s&&o&&c.indexOf(o.path)>-1}function a(e,t){var n=t.split("#")[0];return e.some(function(e){return"*"===e||n.match(e)})}var c=n(29);t.getDocumentOverride=function(e,t){if(t.customLayouts){var n=o({pathname:e},t.customLayouts);if(n&&n.using)return n.using}},t.match=s,t.getRegionsForDocument=i},76:function(e,t){"use strict";e.exports=function(e,t){return t.href.match(/^http/)?t.href:e.context.documentURI.withExtension(t.href)}},121:function(e,t,n){"use strict";var o=n(37),i=n(122),r=n(29),s=function(e){var t={layout:e.layout,spotlightOpen:!1,invertedTCL:!1,singlePageMode:e.singlePageMode},n=i(["change","layoutChange"]);return n.setLayout=function(e){r(o.AVAILABLE_LAYOUTS.indexOf(e)>-1,"Layout must be one of "+o.AVAILABLE_LAYOUTS.join(",")),t.layout=e,n.emit("layoutChange"),n.emit("change")},n.getLayout=function(){return t.layout},n.openSpotlight=function(){n.isSpotlightOpen()||(t.spotlightOpen=!0,n.emit("change"))},n.closeSpotlight=function(){n.isSpotlightOpen()&&(t.spotlightOpen=!1,n.emit("change"))},n.isSpotlightOpen=function(){return t.spotlightOpen},n.inSinglePageMode=function(){return t.singlePageMode},n.invertTwoColumnLayout=function(){n.isTwoColumnLayoutInverted()||(t.invertedTCL=!0,n.emit("change"))},n.restoreTwoColumnLayout=function(){n.isTwoColumnLayoutInverted()&&(t.invertedTCL=!1,n.emit("change"))},n.isTwoColumnLayoutInverted=function(){return t.invertedTCL},n};e.exports=s},122:function(e,t,n){"use strict";function o(e){var t=e.reduce(function(e,t){return e[t]=[],e},{});return{on:function(e,n){t[e].push(n)},off:function(e,n){var o=t[e].indexOf(n);o>-1&&t[e].splice(o,1)},emit:function(e){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];t[e].forEach(function(e){e.apply(null,o)})},clear:function(){Object.keys(t).forEach(function(e){t[e]=[]})}}}n(29),e.exports=o},123:function(e,t,n){"use strict";function o(e,t){function n(e,t){var n=a({},e,{pathname:t.pathname}),i=c(n,t.customLayouts)||s(n)||l();return i.map(function(t){return o(t,e,n)})}function o(e,t,n){return e.outlets?a({},e,{outlets:e.outlets.filter(function(e){return!e.match||r.match(e.match,n)}).map(function(e){return a({},e,{scope:u(e,t)})})}):e}function s(e){var t=e.namespaceNode;if(t&&t.meta.defaultLayouts)return c(e,t.meta.defaultLayouts)}function l(){return[{name:"Layout::Content",outlets:null}]}function u(t,n){var o=void 0;if(t.using){var r=e.get(t.using);r&&(o=i.buildDocumentContext(r),o&&o.namespaceNode===n.namespaceNode&&Object.assign(o,{documentEntityNode:n.documentEntityNode,documentNode:n.documentNode}))}return"fixate"===t.injectionStrategy?o||n:a({},n,o)}return function(e,o){var i=n(e,{pathname:o,customLayouts:t.customLayouts});return{regions:i,hasSidebarElements:i.some(function(e){return"Layout::Sidebar"===e.name})}}}var i=n(44),r=n(75),s=n(10),a=s.assign,c=r.getRegionsForDocument;e.exports=o},126:function(e,t,n){"use strict";function o(e){var t=e.reduce(function(e,t){function n(e){return o+" "+e}var o=t.link.context||"";return t.$1&&(e[n(t.$1)]=t),t.$2&&(e[n(t.$2)]=t),t.$3&&(e[n(t.$3)]=t),e},{}),n=Object.freeze(Object.keys(t).filter(function(e){return!!e}));return{search:function(e){var o=i.filter(n,e.trim()),r=o.reduce(function(e,n){var o=t[n];return o.link.href in e||(e[o.link.href]=o),e},{});return Object.keys(r).map(function(e){return r[e]})}}}var i=n(51);e.exports=o},127:function(e,t,n){"use strict";function o(e,t){return"A"===t.tagName&&a(e,t)}var i=n(1),r=n(11),s=r.findDOMNode,a=n(47),c=n(128),l=n(14),u=l.Outlet,p=l.OutletRenderer,h=n(10),d=h.debounce,m=i.PropTypes,f=i.createClass({displayName:"Inspector",propTypes:{inSinglePageMode:m.bool,isOutletOccupied:m.func.isRequired,corpus:m.object},getInitialState:function(){return{element:null}},componentDidMount:function(){this.debouncedShowTooltip=d(this.showTooltip,10),this.debouncedHideTooltip=d(this.hideTooltip,10),window.addEventListener("mouseover",this.debouncedShowTooltip,!1),window.addEventListener("mouseout",this.debouncedHideTooltip,!1)},componentWillUnmount:function(){window.removeEventListener("mouseout",this.debouncedHideTooltip,!1),window.removeEventListener("mouseover",this.debouncedShowTooltip,!1)},render:function(){if(!this.state.element)return null;var e=this.inspectElement(this.props.corpus,this.state.element);return e?i.createElement(c,{target:this.state.element},e):null},showTooltip:function(e){if(o(this.getContainerDOMNode(),e.target))this.state.element!==e.target&&this.setState({element:e.target});else{if(e.target===s(this))return;this.state.element&&this.setState({element:null})}},hideTooltip:function(e){e.target===this.state.element&&this.setState({element:null})},getContainerDOMNode:function(){return this.props.inSinglePageMode?document.querySelector(".single-page-layout__content"):document.querySelector(".two-column-layout__right")||document.querySelector(".root__screen")},inspectElement:function(e,t){var n=decodeURIComponent(t.href.replace(location.origin,"")),o=e.getByURI(n);if(o){var r={documentNode:o,namespaceNode:e.getNamespaceOfDocument(o)};if(this.props.isOutletOccupied({name:"Inspector",elementProps:r}))return i.createElement(u,{name:"Inspector",elementProps:r})}}});e.exports=p(f)},128:function(e,t,n){"use strict";var o=n(1),i=o.PropTypes,r=i.instanceOf,s=i.node,a=o.createClass({displayName:"InspectorTooltip",propTypes:{target:r(window.Element).isRequired,children:s.isRequired},getInitialState:function(){return{top:0,left:0}},componentDidMount:function(){this.computePositions(this.props.target)},componentWillUpdate:function(e){e.target!==this.props.target&&this.computePositions(e.target)},render:function(){return o.createElement("div",{style:this.state,className:"tooltip",children:this.props.children})},computePositions:function(e){var t=e.getBoundingClientRect(),n=t.top,o=t.left;n+=t.height,n===this.state.top&&o===this.state.left||this.setState({top:n,left:o})}});e.exports=a},129:function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(1),r=n(27),s=n(14),a=s.Outlet,c=n(17),l=n(36),u=n(26),p=n(130),h=n(131),d=n(76),m=i.PropTypes,f=m.string,g=m.any,y=m.arrayOf,v=m.object,S=i.PropTypes,b={motto:S.string,title:S.string,spotlight:S.bool,showSettingsLinkInBanner:S.bool},E=i.createClass({displayName:"Banner",statics:{BannerItem:p},propTypes:{children:g,currentPath:f,links:y(v),config:S.shape(b)},contextTypes:{appState:S.object.isRequired,documentURI:S.instanceOf(u).isRequired},render:function(){var e=this.props.config;return i.createElement("div",{className:"banner-wrapper"},i.createElement("header",{className:"banner"},i.createElement("h1",{className:"banner__logo"},i.createElement(r,{href:"/index.html"},e.title||"megadoc")," ",e.motto&&e.motto.length>0&&i.createElement("span",{className:"banner__motto"},e.motto),this.props.children),i.createElement("nav",{className:"banner__navigation"},e.spotlight&&i.createElement(p,{key:"spotlight",onClick:this.toggleSpotlight,title:"Quick-Jump (Ctrl+K or CMD+K)"},i.createElement(c,{className:"icon-search"})),i.createElement(a,{name:"MultiPageLayout::Banner",alwaysRenderChildren:!0,tagName:"span",fnRenderElement:function(e,t,n){return i.createElement(p,{key:e},i.createElement(n,t))}},e.showSettingsLinkInBanner&&i.createElement(p,{key:"settings"},i.createElement(r,{href:"/settings.html"},i.createElement(c,{className:"icon-cog"}))),this.props.links.map(this.renderLink)))))},renderLink:function(e){return e.links?i.createElement(p,{key:e.text},i.createElement(h,o({currentPath:this.props.currentPath},e))):i.createElement(p,{key:e.text},i.createElement(r,{href:d(this,e)},e.text))},toggleSpotlight:function(){this.context.appState.isSpotlightOpen()?this.context.appState.closeSpotlight():this.context.appState.openSpotlight()}});e.exports=l(E,b)},130:function(e,t,n){"use strict";var o=n(1),i=o.PropTypes,r=i.node,s=i.func,a=i.string,c=o.createClass({displayName:"BannerItem",propTypes:{children:r,onClick:s,title:a},render:function(){return o.createElement("div",{className:"banner__navigation-item",children:this.props.children,onClick:this.props.onClick,title:this.props.title})}});e.exports=c},131:function(e,t,n){"use strict";var o=n(1),i=n(27),r=n(17),s=n(13),a=n(26),c=n(76),l=o.PropTypes,u=l.string,p=l.oneOf,h=l.arrayOf,d=l.shape,m=o.createClass({displayName:"BannerMenu",propTypes:{currentPath:u,openStrategy:p(["hover","click"]),text:u.isRequired,href:u,links:h(d({text:u.isRequired,href:u.isRequired})).isRequired},contextTypes:{documentURI:o.PropTypes.instanceOf(a).isRequired},getDefaultProps:function(){return{openStrategy:"hover"}},getInitialState:function(){return{clicked:!1,hovering:!1}},componentWillUpdate:function(e){e.currentPath!==this.props.currentPath&&this.state.clicked&&this.close()},render:function(){var e=this,t="click"===this.props.openStrategy?this.state.clicked:this.state.hovering,n=this.props.links.some(function(t){return e.props.currentPath===t.href}),a=o.createElement(r,{className:"icon-arrow-down"});return o.createElement("div",{onMouseEnter:this.trackCursorOn,onMouseLeave:this.trackCursorOff,className:s("banner__menu",{"banner__menu--open":t,"banner__menu--active":n})},o.createElement("span",{className:"banner__menu-title",onClick:this.toggle},this.props.href?o.createElement(i,{href:this.context.documentURI.withExtension(this.props.href),active:n},this.props.text," ",a):o.createElement("span",null,this.props.text," ",a)),t&&o.createElement("ul",{className:"banner__menu-list"},this.props.links.map(this.renderLink)))},renderLink:function(e){return o.createElement("li",{key:e.href+e.text,className:"banner__menu-list-item"},o.createElement(i,{href:c(this,e),children:e.text}))},trackCursorOn:function(){this.state.hovering||this.setState({hovering:!0})},trackCursorOff:function(){this.state.hovering&&this.setState({hovering:!1})},toggle:function(){this.setState({clicked:!this.state.clicked})},close:function(){this.setState({clicked:!1})}});e.exports=m},132:function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(1),r=i.createClass({displayName:"Document",render:function(){return i.createElement("div",o({className:"doc-content"},this.props))}});e.exports=r},133:function(e,t,n){"use strict";var o=n(1),i=n(80),r=o.PropTypes,s=o.createClass({displayName:"Footer",propTypes:{children:r.string},render:function(){return o.createElement("div",{className:"footer"},o.createElement(i,null,this.props.children||""))}});e.exports=s},134:function(e,t,n){"use strict";var o=n(1),i=o.createClass({displayName:"NotFound",render:function(){return o.createElement("div",{className:"four-oh-four"},o.createElement("h1",null,"404"),o.createElement("p",null,"We're sorry, but we think there's a very good chance you've hit the void!"))}});e.exports=i},135:function(e,t,n){"use strict";var o=n(1),i=n(137),r=n(134),s=n(132),a=n(77),c=n(133),l=n(136),u=n(36),p=n(14),h=p.OutletRenderer,d=p.Outlet,m=o.PropTypes,f=n(37),g=f.INITIAL_SIDEBAR_WIDTH,y={collapsibleSidebar:m.bool,footer:m.string,resizableSidebar:m.bool,fixedSidebar:m.bool,sidebarWidth:m.number},v=o.createClass({displayName:"LayoutScreen",propTypes:{hasSidebarElements:m.bool,isOutletDefined:m.func,regions:m.arrayOf(m.shape({name:m.string.isRequired,options:m.object,outlets:m.arrayOf(m.shape({name:m.string,options:m.object,using:m.string,scope:m.shape({documentEntityNode:m.object,documentNode:m.object,namespaceNode:m.object})}))})).isRequired,config:m.shape(y)},render:function(){return o.createElement("div",{className:"root__screen"},this.props.hasSidebarElements?this.renderTwoColumnLayout():this.renderSingleColumnLayout())},renderTwoColumnLayout:function(){var e=this.renderNavBar(),t=this.props.config;return o.createElement(i,{resizable:t.resizableSidebar,collapsible:t.collapsibleSidebar,fixed:t.fixedSidebar,initialSidebarWidth:t.sidebarWidth||g},o.createElement(i.LeftColumn,null,o.createElement("div",null,this.renderRegion("Layout::Sidebar"))),o.createElement(i.RightColumn,null,this.renderContent()),e&&o.createElement(i.NavColumn,null,e))},renderSingleColumnLayout:function(){return this.renderContent()},renderContent:function(){var e=this.getOutletTag("Layout::Content"),t=this.props.config.footer;return o.createElement("div",null,o.createElement(e,null,this.renderRegion("Layout::Content")||o.createElement(r,null)),t&&t.length>0&&o.createElement(c,null,t))},renderNavBar:function(){var e=this.renderRegion("Layout::NavBar");if(!e)return null;var t=this.getOutletTag("Layout::NavBar");return o.createElement(l,null,o.createElement(t,null,o.createElement("p",null,"Contents"),this.renderRegion("Layout::NavBar")))},renderRegion:function(e){var t=this,n=this.props.regions.filter(function(t){return t.name===e})[0];return n&&n.outlets?n.outlets.map(function(e,i){var r=e.scope,s=e.name+"__"+i;return t.props.isOutletDefined(e.name)?r?o.createElement(d,{key:s,name:e.name,options:e.options,elementProps:r}):o.createElement(a,{key:s},o.createElement("p",null,'No document was found with the UID "',e.using,'" to be inserted into the outlet "',e.name,'" of the region "',n.name,'". This is most likely a configuration error.')):o.createElement(a,{key:s},o.createElement("p",null,'Outlet "',e.name,'" has not been defined! This is most likely a configuration error. Please verify the outlet name is correct.'))}).filter(function(e){return!!e}):null},getOutletTag:function(e){var t=this.props.regions.filter(function(t){return t.name===e})[0];return t&&t.options&&t.options.framed?s:"div"}});e.exports=h(u(v,y))},136:function(e,t,n){"use strict";function o(e){return e.hasOwnProperty("scrollY")?e.scrollY:e.scrollTop}function i(e,t){var n=r(t);"undefined"!=typeof e.style.cssText?e.style.cssText!==n&&(e.style.cssText=n):e.getAttribute("style")!==n&&e.setAttribute("style",n)}function r(e){return Object.keys(e).reduce(function(t,n){return null===e[n]?t:t+(n+": "+e[n]+"; ")},"").replace(/\s$/,"")}function s(e,t){var n=e.style,o=n.position,i=n.height,r=n.width,s=n.top,a=!1;"fixed"!==o&&"absolute"!==o||(e.style.position="static",e.style.height=null,e.style.width=null,e.style.top=null,a=!0);try{t()}finally{a&&(e.style.position=o,e.style.width=r,e.style.height=i,e.style.top=s)}}var a=n(1),c=n(11),l=c.findDOMNode,u=n(10),p=u.throttle,h=a.PropTypes.node,d=a.createClass({displayName:"Sticky",propTypes:{children:h},componentDidMount:function(){this.calculateInitialValues(),this.debouncedApplyStickiness=p(this.applyStickiness,10),window.addEventListener("scroll",this.debouncedApplyStickiness,!1),window.addEventListener("resize",this.debouncedApplyStickiness,!1),this.applyStickinessSync()},componentDidUpdate:function(){this.calculateInitialValues(),this.applyStickinessSync()},componentWillUnmount:function(){window.removeEventListener("resize",this.debouncedApplyStickiness,!1),window.removeEventListener("scroll",this.debouncedApplyStickiness,!1)},render:function(){return a.createElement("div",{className:"sticky-container"},this.props.children)},calculateInitialValues:function(){var e=this,t=l(this);s(t,function(){var n=t.getBoundingClientRect();e.offsetTop=n.top+o(window),e.clientWidth=n.width,e.clientHeight=n.height})},applyStickiness:function(){window.requestAnimationFrame(this.applyStickinessSync)},applyStickinessSync:function(){var e=l(this),t=o(window),n=this.offsetTop,r=document.documentElement.clientHeight-n,s={};t>n?(s.position="fixed",s.top=n+"px",s.width=this.clientWidth+"px"):t<=n&&(s.position="relative",s.top="0px"),this.clientHeight>r?(s.height=r+"px",s.overflow="auto"):(s.height=null,s.overflow=null),e.classList.toggle("sticky-container--sticky","fixed"===s.position),i(e,s)}});e.exports=d},137:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(1),r=n(11),s=r.findDOMNode,a=n(48),c=n(83),l=n(13),u=n(17),p=n(45),h=n(37),d=h.MIN_SIDEBAR_WIDTH,m=i.PropTypes,f=i.createClass({displayName:"LeftColumn",propTypes:{children:i.PropTypes.any},render:function(){return this.props.children}}),g=i.createClass({displayName:"RightColumn",propTypes:{children:i.PropTypes.any},render:function(){return this.props.children}}),y=i.createClass({displayName:"NavColumn",propTypes:{children:i.PropTypes.any},render:function(){return this.props.children}}),v=i.createClass({displayName:"TwoColumnLayout",contextTypes:{appState:i.PropTypes.object.isRequired},propTypes:{children:i.PropTypes.any,resizable:m.bool,fixed:m.bool,collapsible:m.bool,initialSidebarWidth:m.number},getInitialState:function(){return{initialSidebarWidth:this.props.initialSidebarWidth,sidebarWidth:this.props.initialSidebarWidth,sidebarCollapsed:!1}},componentDidMount:function(){this.context.appState.on("change",this.reload),this.props.resizable&&(this.resizableInstance=c(s(this.refs.resizer),{onResize:this.updateSidebarWidth,onResizeStop:this.updateAndSaveSidebarWidth}))},componentWillUnmount:function(){this.context.appState.off("change",this.reload),this.props.resizable&&this.resizableInstance.destroy()},render:function(){var e=a(this.props.children,f),t=a(this.props.children,g),n=a(this.props.children,y),r=this.state.sidebarCollapsed?0:this.state.sidebarWidth,s=l({"two-column-layout__left":!0,"two-column-layout__left--collapsed":this.state.sidebarCollapsed}),c=this.context.appState.isTwoColumnLayoutInverted();return i.createElement("div",{className:l({"two-column-layout":!0,"two-column-layout--inverted":c,"two-column-layout--with-nav":!!n,"two-column-layout--fixed":!!this.props.fixed})},i.createElement("div",{className:s,style:{width:r}},i.createElement("div",{className:"resizable-panel"},this.props.collapsible&&i.createElement(p,{onClick:this.collapseSidebar,className:"two-column-layout__collapse-btn"},i.createElement(u,{className:"icon-menu"})),i.createElement("div",{className:"resizable-panel__content"},e),i.createElement("div",{ref:"resizer",className:"ui-resizable-handle ui-resizable-e"}))),i.createElement("div",{className:"two-column-layout__right",style:o({},c?"marginRight":"marginLeft",r),children:t}),n&&i.createElement("div",{className:"two-column-layout__nav",children:n||null}))},reload:function(){this.forceUpdate()},updateSidebarWidth:function(e){this.setState({sidebarWidth:Math.max(this.state.initialSidebarWidth+e,d)})},updateAndSaveSidebarWidth:function(){this.setState({initialSidebarWidth:this.state.sidebarWidth})},collapseSidebar:function(){this.setState({sidebarCollapsed:!this.state.sidebarCollapsed})}});e.exports=v,e.exports.LeftColumn=f,e.exports.RightColumn=g,e.exports.NavColumn=y},138:function(e,t,n){"use strict";var o=n(1),i=n(13),r=n(129),s=n(135),a=n(85),c=o.PropTypes,l=o.PropTypes,u=l.node,p=l.shape,h=l.string,d=l.arrayOf,m=l.array,f=l.object,g=l.bool,y=p({text:h,href:h,links:m}),v=o.createClass({displayName:"Layout",contextTypes:{appState:f.isRequired},propTypes:{children:u,pathname:h.isRequired,template:p({regions:m,hasSidebarElements:g}).isRequired,scope:p({documentNode:f,documentEntityNode:f,namespaceNode:f}),config:c.shape({fixedSidebar:c.bool,banner:g,bannerLinks:d(y)}).isRequired},getDefaultProps:function(){return{bannerLinks:[]}},componentWillUpdate:function(e){this.context.appState.inSinglePageMode()||e.scope.documentNode!==this.props.scope.documentNode&&a()},render:function(){var e=this.props,t=e.template,n=e.config,a=i({root:!0,"root--with-multi-page-layout":!0,"root--with-two-column-layout":t.hasSidebarElements,"root--with-fixed-sidebar":n.fixedSidebar,"root--with-static-sidebar":!n.fixedSidebar,"root--with-banner":n.banner,"root--without-banner":!n.banner});return o.createElement("div",{className:a},n.banner&&o.createElement(r,{links:n.bannerLinks||[],currentPath:this.props.pathname}),o.createElement(s,t))}});e.exports=v},139:function(e,t,n){"use strict";function o(){var e=r.call(document.querySelectorAll("[id]"),function(e){return e.tagName.match(/^H\d/)}).map(function(e){return{node:e,box:e.getBoundingClientRect()}}),t=void 0,n=void 0;if(e.forEach(function(e){var o=Math.abs(e.box.top);void 0===n?(n=o,t=e):o<n&&(n=o,t=e)}),t){var o=t.node.id,i="#"+o;window.location.hash!==i&&(t.node.id=null,window.location.hash=i,t.node.id=o)}}var i=n(1),r=Array.prototype.filter,s=i.createClass({displayName:"ScrollSpy",getDefaultProps:function(){return{query:{},params:{}}},componentDidMount:function(){window.addEventListener("scroll",o,!1)},shouldComponentUpdate:function(){return!1},componentWillUnmount:function(){window.removeEventListener("scroll",o,!1)},render:function(){return null}});e.exports=s},140:function(e,t,n){"use strict";var o=n(1),i=n(11),r=i.findDOMNode,s=n(10),a=s.debounce,c=n(126),l=n(27),u=n(30),p=o.PropTypes,h=p.func,d=p.arrayOf,m=p.shape,f=p.string,g=p.bool,y="undefined"!=typeof window&&"undefined"!=typeof window.Element&&"function"==typeof window.Element.prototype.scrollIntoViewIfNeeded,v=d(m({$1:f,$2:f,$3:f,link:m({href:f})})),S=o.createClass({displayName:"Spotlight",statics:{MAX_RESULTS:15},propTypes:{onActivate:h,corpus:v,symbols:v,startInSymbolMode:g},getInitialState:function(){return{results:[],lastSearchTerm:"",cursor:0}},componentWillMount:function(){this.debouncedSearch=a(this.search,13),this.corpusSearcher=c(this.props.corpus),this.buildSymbolSearcher(this.props.symbols)},componentDidMount:function(){if(this.props.startInSymbolMode){var e=r(this.refs.editingWidget);e.value="@",this.search("@")}},componentWillUpdate:function(e){e.symbols!==this.props.symbols&&this.buildSymbolSearcher(e.symbols)},componentDidUpdate:function(e,t){t.cursor!==this.state.cursor&&this.scrollSelectedIntoView()},render:function(){var e=this.state.results,t=this.state.lastSearchTerm.match(/^@/),n="@"===this.state.lastSearchTerm,i=this.getNavigatableResults();return o.createElement("div",{className:"spotlight__wrapper"},o.createElement("div",{className:"spotlight"},o.createElement("div",{className:"spotlight__help"},o.createElement("span",null,t?"Jump to a symbol":"Jump to a document"),o.createElement("div",{className:"float--right"},o.createElement("div",{className:"spotlight__help-entry"},o.createElement("strong",null,"tab")," or ",o.createElement("strong",null,"↑"),o.createElement("strong",null,"↓")," to navigate")," ",o.createElement("div",{className:"spotlight__help-entry"},o.createElement("strong",null,"↵")," to select")," ",o.createElement("div",{className:"spotlight__help-entry"},o.createElement("strong",null,"esc")," to dismiss"))),o.createElement("input",{
autoFocus:!0,type:"text",onChange:this.proxyToDebouncedSearch,className:"spotlight__input",onKeyDown:this.navigate,ref:"editingWidget"}),o.createElement("ul",{className:"spotlight__results",ref:"scrollableWidget"},!n&&0===e.length&&this.state.lastSearchTerm.length>0&&o.createElement("li",{className:"spotlight__result"},"Nothing matched your query. 😞"),n&&0===(this.props.symbols||[]).length&&o.createElement("li",{className:"spotlight__result"},"No symbols were found for this document. 😞"),i.map(this.renderResult))))},getNavigatableResults:function(){return"@"===this.state.lastSearchTerm?this.props.symbols||[]:this.state.results},renderResult:function(e,t){var n=e.link.href,i=e.$1;return o.createElement("li",{key:n+(e.link.anchor||""),className:u({spotlight__result:!0,"spotlight__result--active":this.state.cursor===t})},o.createElement(l,{href:n,anchor:e.link.anchor,ref:"link__"+t,onClick:this.props.onActivate},o.createElement("span",{dangerouslySetInnerHTML:{__html:i.replace(/^(\s+)/,function(e){return Array(e.length+1).join("&nbsp;&nbsp;")})}})," ",e.link.context&&o.createElement("em",{className:"spotlight__result-context"},e.link.context)))},buildSymbolSearcher:function(e){this.symbolSearcher=e?c(e):null},proxyToDebouncedSearch:function(e){this.debouncedSearch(e.target.value)},search:function(e){var t=e.match(/^@/)&&this.symbolSearcher?this.symbolSearcher.search(e.slice(1)):this.corpusSearcher.search(e).slice(0,S.MAX_RESULTS);this.setState({cursor:0,lastSearchTerm:e,results:t})},navigate:function(e){var t=e.keyCode,n=e.ctrlKey||e.metaKey;40===t?(e.preventDefault(),this.selectNext()):38===t?(e.preventDefault(),this.selectPrev()):35===t&&n?(e.preventDefault(),this.selectLast()):36===t&&n?(e.preventDefault(),this.selectFirst()):9===t?(e.preventDefault(),e.shiftKey?this.selectPrev():this.selectNext()):13===t&&(e.preventDefault(),this.activateSelected(),this.props.onActivate&&this.props.onActivate())},selectFirst:function(){var e=this.getNavigatableResults();e.length&&this.updateCursor(0)},selectNext:function(){var e=this.getNavigatableResults();e.length&&this.updateCursor(this.state.cursor<e.length-1?this.state.cursor+1:0)},selectPrev:function(){var e=this.getNavigatableResults();e.length&&this.updateCursor(this.state.cursor>0?this.state.cursor-1:e.length-1)},selectLast:function(){var e=this.getNavigatableResults();e.length&&this.updateCursor(e.length-1)},updateCursor:function(e){this.state.cursor!==e&&this.setState({cursor:e})},scrollSelectedIntoView:function(){if(y){var e=this.getSelectedDOMNode();e&&e.scrollIntoViewIfNeeded()}},activateSelected:function(){var e=this.getSelectedDOMNode();e&&e.click()},getSelectedDOMNode:function(){return r(this.refs["link__"+this.state.cursor])}});e.exports=S},141:function(e,t,n){"use strict";function o(e,t){return e.getDocumentEntitySearchIndex(t.uid)}function i(e,t){var n=e.getByURI(t);if(n)return o(e,n)}var r=n(1),s=n(11),a=s.findDOMNode,c=n(140),l=n(47),u=n(37),p=u.KC_ESCAPE,h=r.PropTypes,d=h.bool,m=h.func,f=h.object,g=h.string,y=n(26),v=r.createClass({displayName:"SpotlightManager",propTypes:{active:d.isRequired,onOpen:m.isRequired,onClose:m.isRequired,documentNode:f,pathname:g.isRequired,corpus:f.isRequired},contextTypes:{documentURI:r.PropTypes.instanceOf(y).isRequired},getInitialState:function(){return{openedInSymbolMode:!1}},componentDidMount:function(){window.addEventListener("keydown",this.handleGlobalKeybindings,!0),this.props.active&&this.closeSpotlightOnExternalClicks()},componentDidUpdate:function(e,t){!e.active&&this.props.active?this.closeSpotlightOnExternalClicks():e.active&&!this.props.active&&this.stopClosingSpotlightOnExternalClicks(),t.openedInSymbolMode&&this.setState({openedInSymbolMode:!1})},componentWillUnmount:function(){window.removeEventListener("keydown",this.handleGlobalKeybindings,!0)},render:function(){var e=this.props.corpus;if(this.props.active){var t=this.props.documentNode?o(e,this.props.documentNode):i(e,this.context.documentURI.normalize(this.props.pathname));return r.createElement(c,{startInSymbolMode:this.state.openedInSymbolMode,corpus:e.getDocumentSearchIndex(),symbols:t,onActivate:this.closeSpotlight})}return null},openSpotlight:function(){this.props.onOpen()},closeSpotlight:function(){this.props.onClose()},handleGlobalKeybindings:function(e){var t=this,n=String.fromCharCode(e.which).toLowerCase(),o=e.ctrlKey||e.metaKey;"k"===n&&o?(e.preventDefault(),this.props.active?this.closeSpotlight():this.openSpotlight()):190===e.which&&o&&!this.props.active?(e.preventDefault(),this.setState({openedInSymbolMode:!0},function(){t.openSpotlight()})):e.which===p&&(e.preventDefault(),this.closeSpotlight())},closeSpotlightOnExternalClicks:function(){window.addEventListener("click",this.doCloseSpotlightOnExternalClicks,!1)},stopClosingSpotlightOnExternalClicks:function(){window.removeEventListener("click",this.doCloseSpotlightOnExternalClicks,!1)},doCloseSpotlightOnExternalClicks:function(e){l(e.target,a(this))&&this.closeSpotlight()}});e.exports=v},142:function(e,t,n){"use strict";var o=n(1),i=o.PropTypes,r=i.shape,s=i.string,a=n(49),c=o.createClass({displayName:"ImageOutlet",contextTypes:{location:r({pathname:s})},propTypes:{$outletOptions:r({src:s.isRequired}).isRequired},render:function(){return o.createElement("img",{src:a(this.props.$outletOptions.src,this.context.location.pathname)})}});e.exports=function(e){e.outlets.add("Image",{key:"Image",component:c})}},143:function(e,t,n){"use strict";var o=n(1),i=o.PropTypes,r=i.shape,s=i.string,a=n(27),c=o.createClass({displayName:"LinkOutlet",contextTypes:{location:r({pathname:s})},propTypes:{$outletOptions:r({href:s.isRequired,text:s.isRequired,title:s}).isRequired},render:function(){var e=this.props.$outletOptions;return o.createElement(a,{href:e.href,title:e.title,children:e.text})}});e.exports=function(e){e.outlets.add("Link",{key:"Link",component:c})}},144:function(e,t,n){"use strict";var o=n(1),i=n(81),r=o.PropTypes,s=r.shape,a=r.string,c=o.createClass({displayName:"SidebarHeaderOutlet",propTypes:{$outletOptions:s({text:a.isRequired})},render:function(){return o.createElement(i,null,this.props.$outletOptions.text)}});e.exports=function(e){e.outlets.add("Layout::SidebarHeader",{key:"xxx",component:c})}},145:function(e,t,n){"use strict";var o=n(1),i=n(45),r=n(30),s=o.createClass({displayName:"SidebarSearch",propTypes:{$outletOptions:o.PropTypes.shape({text:o.PropTypes.string.isRequired,className:o.PropTypes.string})},contextTypes:{appState:o.PropTypes.object.isRequired},render:function(){var e=this.props.$outletOptions.text||"Search";return o.createElement(i,{title:e+" (Ctrl+K or CMD+K)",className:r(this.props.$outletOptions.className,"sidebar-search-button"),onClick:this.toggleSpotlight,children:e})},toggleSpotlight:function(){this.context.appState.isSpotlightOpen()?this.context.appState.closeSpotlight():this.context.appState.openSpotlight()}});e.exports=function(e){e.outlets.add("Layout::SidebarSearch",{key:"xxx",component:s})}},146:function(e,t,n){"use strict";var o=n(1),i=o.PropTypes,r=i.shape,s=i.string,a=o.createClass({displayName:"TextOutlet",propTypes:{$outletOptions:r({tagName:s,className:s,text:s.isRequired,title:s}).isRequired},render:function(){var e=this.props.$outletOptions,t=e.tagName||"div";return o.createElement(t,{className:e.className,title:e.title,children:e.text})}});e.exports=function(e){e.outlets.add("Text",{key:"Text",component:a})}},147:function(e,t,n){"use strict";function o(e){function t(){var t=e.location,n=t.hash;n&&n.length>0&&t.replace(n)}var n=window,o=n.history,i=e.onChange,r={start:function(){window.addEventListener("hashchange",t),window.addEventListener("popstate",i),"/"===e.location.pathname&&r.transitionTo("/index.html")},transitionTo:function(e){return o.pushState(null,null,e),i(),!0},refreshScroll:t,stop:function(){window.removeEventListener("popstate",i),window.removeEventListener("hashchange",t)}};return r}function i(e){var t=e.onChange;return{start:function(){window.addEventListener("hashchange",t)},transitionTo:function(){},refreshScroll:function(){},stop:function(){window.removeEventListener("hashchange",t)}}}function r(e){var t=e.onChange;return{start:function(){window.addEventListener("hashchange",t)},transitionTo:function(t){"#"!==t[0]&&(0===t.indexOf(e.mountPath)?location.href=t:location.href=[e.mountPath,t].join("/").replace(/\/+/g,"/"))},refreshScroll:function(){},stop:function(){window.removeEventListener("hashchange",t)}}}function s(e){return 0===e.button}function a(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var c=n(1),l=n(149),u=n(26),p=n(44),h=n(14),d=h.OutletProvider,m=c.PropTypes,f=c.createClass({displayName:"App",propTypes:{appState:m.object.isRequired,config:m.object.isRequired,corpus:m.object.isRequired,location:n(46).isRequired,outletManager:m.object.isRequired},childContextTypes:{appState:m.object,corpus:m.object,documentResolver:m.instanceOf(p),documentURI:m.instanceOf(u)},getInitialState:function(){return{hashDisabled:!0}},getChildContext:function(){return{appState:this.props.appState,corpus:this.props.corpus,documentURI:this.documentURI,documentResolver:this.documentResolver}},componentWillMount:function(){var e=this.props.config;this.documentURI=new u({mountPath:"file:"===this.props.location.protocol?e.mountPath:null,extension:e.emittedFileExtension}),this.documentResolver=new p({config:e,corpus:this.props.corpus,documentURI:this.documentURI});var t=void 0;e.singlePageMode?t=i:"file:"===this.props.location.protocol?t=r:this.props.location.protocol.match(/^https?:/)&&(t=o),this.locationAPI=t({mountPath:e.mountPath,location:this.props.location,onChange:this.reload})},componentDidMount:function(){var e=this.props.config;this.locationAPI.start();var t=this.props.location.pathname.replace(e.mountPath,""),n=e.redirect[t];n&&this.locationAPI.transitionTo(n),this.setState({hashDisabled:!1})},componentWillUnmount:function(){this.locationAPI.stop()},render:function(){var e=this.props.location;return c.createElement(d,{outletManager:this.props.outletManager},c.createElement(l,{onNavigate:this.navigate,onTransitionTo:this.locationAPI.transitionTo,onRefreshScroll:this.locationAPI.refreshScroll,config:this.props.config,corpus:this.props.corpus,appState:this.props.appState,documentURI:this.documentURI,documentResolver:this.documentResolver,location:{pathname:this.documentURI.normalize(e.pathname),hash:this.state.hashDisabled?"":e.hash,origin:e.origin,protocol:e.protocol}}))},reload:function(){this.forceUpdate()},navigate:function(e,t){if(s(e)&&!a(e)){var n=t.href.replace(location.origin,"");this.locationAPI.transitionTo(n)&&(e.stopPropagation(),e.preventDefault())}}});e.exports=f},148:function(e,t,n){"use strict";var o=n(1),i=n(14),r=i.Outlet,s=o.PropTypes,a=o.createClass({displayName:"NotFound",propTypes:{redirectUrl:s.string.isRequired},render:function(){return o.createElement(r,{name:"Layout::NotFound",elementProps:{redirectUrl:this.props.redirectUrl}},o.createElement("div",{className:"not-found"},o.createElement("p",null,"Sorry! There's nothing here for you to see. This is likely a configuration error."),o.createElement("div",{className:"margin-tb-m"},o.createElement("a",{href:this.props.redirectUrl},"Go back."))))}});e.exports=a},149:function(e,t,n){"use strict";function o(e){var t=e.href;return t&&"object"===("undefined"==typeof t?"undefined":i(t))?e.className.baseVal.indexOf("mega-link--internal")>-1?t.baseVal:void 0:t&&0===t.indexOf(location.origin)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),s=n(28),a=n(11),c=a.findDOMNode,l=n(14),u=l.Outlet,p=n(141),h=n(127),d=n(138),m=n(139),f=n(44),g=n(26),y=n(123),v=n(148),S=r.PropTypes,b=S.object,E=S.func,N=r.createClass({displayName:"Root",propTypes:{appState:b.isRequired,config:b,corpus:b.isRequired,location:n(46),onNavigate:E,onTransitionTo:E,onRefreshScroll:E,documentURI:r.PropTypes.instanceOf(g).isRequired,documentResolver:r.PropTypes.instanceOf(f).isRequired},childContextTypes:{config:b,location:n(46),navigate:E,transitionTo:E},getInitialState:function(){return{scope:null,template:null}},getChildContext:function(){return{location:this.props.location,config:this.props.config,navigate:this.props.onNavigate,transitionTo:this.props.onTransitionTo}},componentWillMount:function(){this.realizeTemplate=y(this.props.corpus,this.props.config),this.setState(this.resolveScope())},componentDidMount:function(){this.props.appState.on("change",this.reload),window.addEventListener("click",this.handleInternalLink,!1)},componentWillReceiveProps:function(e){e.location.pathname===this.props.location.pathname&&e.location.hash===this.props.location.hash||this.setState(this.resolveScope(e.location))},componentDidUpdate:function(e){e.location.hash!==this.props.location.hash&&(s.debug('Hash has changed from "%s" to "%s" - forcing refresh!',e.location.hash,this.props.location.hash),this.props.onRefreshScroll())},componentWillUnmount:function(){this.realizeTemplate=null,window.removeEventListener("click",this.handleInternalLink,!1),this.props.appState.off("change",this.reload)},render:function(){var e=this.props.config,t=this.getPathName(),n=this.state,o=n.scope,i=n.template;return o?r.createElement(u,{name:"LayoutWrapper",forwardChildren:!0},r.createElement(u,{name:"Meta"}),e.tooltipPreviews&&r.createElement(h,{corpus:this.props.corpus,inSinglePageMode:e.singlePageMode}),e.spotlight&&r.createElement(p,{corpus:this.props.corpus,active:this.props.appState.isSpotlightOpen(),onOpen:this.props.appState.openSpotlight,onClose:this.props.appState.closeSpotlight,documentNode:o&&o.documentNode,pathname:t}),e.scrollSpying&&r.createElement(m,null),r.createElement(d,{config:e,pathname:t,scope:o,template:i})):this.renderInternalError()},renderInternalError:function(){var e=this.getLocation(),t=e.hash.replace("#",""),n=void 0;if(t&&t.length){var o=this.resolveScope(Object.assign({},e,{hash:""}));o.scope&&(n=e.pathname)}else n="/index.html";return r.createElement(v,{location:this.getLocation(),redirectUrl:n,corpus:this.props.corpus})},reload:function(){this.forceUpdate()},handleInternalLink:function(e){var t=e.target;"A"!==t.tagName&&"a"!==t.tagName||!o(t)||this.props.onNavigate(e,{href:t.getAttribute("href")})},resolveScope:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLocation(),t=this.resolveCurrentDocument(e);return t?{scope:t,template:this.realizeTemplate(t,this.getPathName(e))}:this.isHashPointingToAnchor(e)?{scope:this.state.scope,template:this.state.template}:{scope:null,template:null}},resolveCurrentDocument:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLocation();return this.props.documentResolver.resolveFromLocation(e,this.props.config)},getPathName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLocation();return this.props.documentResolver.getProtocolAgnosticPathName(e,this.props.documentURI)},getLocation:function(){return this.props.location},isHashPointingToAnchor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLocation(),t=e.hash.replace(/^#/,""),n=c(this);return t&&t.length>0&&!!n.querySelector('a[name="'+t+'"]')}});e.exports=N},201:function(e,t,n){"use strict";var o=n(97),i=n(215),r=n(106);o.inject();var s={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:r};e.exports=s},214:function(e,t){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=n},215:function(e,t,n){"use strict";function o(e,t){var n;try{return m.injection.injectBatchingStrategy(h),n=d.getPooled(t),y++,n.perform(function(){var o=g(e,!0),i=p.mountComponent(o,n,null,c(),f,0);return t||(i=u.addChecksumToMarkup(i)),i},null)}finally{y--,d.release(n),y||m.injection.injectBatchingStrategy(l)}}function i(e){return a.isValidElement(e)?void 0:s("46"),o(e,!1)}function r(e){return a.isValidElement(e)?void 0:s("47"),o(e,!0)}var s=n(4),a=n(20),c=n(94),l=n(96),u=(n(8),n(102)),p=n(19),h=n(214),d=n(105),m=n(12),f=n(21),g=n(67),y=(n(2),0);e.exports={renderToString:i,renderToStaticMarkup:r}},241:function(e,t,n){"use strict";e.exports=n(201)}})});